<h2>{{professor.name}}</h2>
<p><strong>Department:</strong> {{professor.department}}</p>

{{#if isStudent}}
  <button onclick="starProfessor('{{professor._id}}')">
    {{#if professor.isStarred}}★ Starred{{else}}☆ Star Professor{{/if}}
  </button>
{{/if}}

<h3>Courses</h3>
<ul>
  {{#each professor.courses}}
    <li>
      <a href="/courses/{{this._id}}">{{this.name}}</a>
      ({{this.reviewCount}} reviews)
    </li>
  {{/each}}
</ul>

<h3>Reviews for {{professor.name}}</h3>
{{#each professor.reviews}}
  <div class="review">
    <p><strong>Course:</strong> {{this.courseName}}</p>
    <p>{{this.text}}</p>
    <p>Likes: {{this.likes}} | Dislikes: {{this.dislikes}}</p>

    <form method="POST" action="/comments/{{this._id}}">
      <input type="text" name="comment" placeholder="Add a comment" required>
      <button type="submit">Comment</button>
    </form>

    {{#if isStudent}}
      <button onclick="likeReview('{{this._id}}')">👍</button>
      <button onclick="dislikeReview('{{this._id}}')">👎</button>
      <form method="POST" action="/contact-request/{{this.userId}}" style="display:inline;">
        <button type="submit">Request Contact</button>
      </form>
    {{/if}}

    <div class="comments">
      {{#each this.comments}}
        <p><strong>{{this.author}}:</strong> {{this.text}}</p>
      {{/each}}
    </div>
  </div>
{{/each}}



